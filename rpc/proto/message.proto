syntax = "proto3";

package channel;

option go_package = "github.com/m25-lab/lightning-network-node/node/rpc/pb";

service MessageService {
  rpc SendMessage(SendMessageRequest) returns (SendMessageResponse) {}
  rpc SendSecret(SendSecretMessage) returns (SendSecretResponse);
  rpc BroadcastNoti(BroadcastNotiMessage) returns (BroadcastNotiResponse);
}

message SendMessageRequest {
  string message_id = 1;
  string channel_id = 2;
  string action = 3;
  string data = 4;
  string from = 5;
  string to = 6;
  string relied_message_id = 7;
}

message SendMessageResponse {
  string response = 1;
  string error_code = 2;
}

message SendSecretMessage {
  string my_secret = 1;
  string my_hashcode = 2;
  string partner_hashcode = 3;
}

message SendSecretResponse {
  string secret = 1;
  string error_code = 2;
}

message BroadcastNotiMessage {
  string from = 1;
  string to = 2;
  string hash_code = 3;
  string index = 4;
}

message BroadcastNotiResponse {
  string response = 1;
  string error_code = 2;
}
